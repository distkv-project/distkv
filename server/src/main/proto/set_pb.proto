syntax="proto2";

package dst.server.protocol.pb;

import "common_pb.proto";

option java_package="org.dst.server.generated";
option java_outer_classname="SetProtocol";
option cc_generic_services = true;

//set
message putRequest {
    required string key = 1;
    repeated string values = 2;
}

message putResponse {
    required Status status = 1;
}

message getRequest {
    required string key = 1;
}

message getResponse {
    required Status Status = 1;
    repeated string values = 2;
}

//The entity that will be deleted from the set.
message deleteRequest {
    required string key = 1;
    required string entity = 2;
}

message deleteResponse {
    required Status status = 1;
}

//drop the whole set
message dropByKeyRequest {
    required string key = 1;
}

message dropByKeyResponse {
    required Status status = 1;
}

message existsRequest {
    required string key = 1;
    required string entity = 2;
}

message existsResponse {
    required Status status = 1;
}

service DstService {
    rpc setPut(putRequest) returns (putResponse);
    rpc setGet(getRequest) returns (getResponse);
    rpc setDelete(deleteRequest) returns (deleteResponse);
    rpc setDropByKey(dropByKeyRequest) returns (dropByKeyResponse);
    rpc setExists(existsRequest) returns (existsResponse);
}
